(function(){var a;a=window.MMG,a.Templates.Classica={},a.Templates.Classica.template="<div class='<%=meta.NS %>-img <%= data.classList %>' data-image-id='<%= imageId %>'> <a class='<%=meta.NS %>-link' href='<%= data.pageHref %>' target='_blank'> </a> <div class='<%=meta.NS %>-icon-wrapper <%=meta.NS %>-fs'> <div class='<%=meta.NS %>-icon-container <%=meta.NS %>-fs'> <img class='<%=meta.NS %>-icon <%=meta.NS %>-fs' src='<%= data.src %>'> </div> </div> <div class='<%=meta.NS %>-caption-wrapper'> <div class='<%=meta.NS %>-f-caption'> <% if(data.title) { %> <div class='<%=meta.NS %>-title'> <%= data.title %> </div> <% } %> <% if(data.description) { %> <div class='<%=meta.NS %>-descr'> by <%= data.description %> </div> <% } %> </div> </div> <div class='<%=meta.NS %>-shutter'></div> <img data-src='<%= data.ownerIcon %>' src='' style='width:1px;height:1px;z-index:0;visibility:hidden;' class='swipe-owner-icon-hidden'> </div>",a.Templates.Classica.callback=function(){var a,t,e,i,s,d,c;a=this.model.meta.NS,t=this.model.meta.NSclass,c=this.model.meta.root,s=this.model.meta.isMobile,c.addClass(a+"-classica"),d=function(a){var t;t=a.find(".swipe-owner-icon-hidden"),t.attr("src",t.attr("data-src"))},$(c).on("click",".mmg-img",function(a){var t;t=$(this),d(t),d(t.next()),d(t.prev())}),e=function(){$(t+"hover, .hover",c.get(0)).each(function(){$(this).removeClass("hover").removeClass(a+"-hover")})},s?(i="touchstart",/IEMobile/i.test(navigator.userAgent)&&(i="MSPointerDown mouseenter"),$("body").on(i,function(t){var i,s;s=$(t.target),$(t.target).hasClass(a+"-shutter")?(i=s.parent(),i.hasClass(a+"-hover")||(e(),i.addClass(a+"-hover"),setTimeout(function(){i.addClass("hover"),i=null},500))):$(t.target).hasClass(a+"-link")||e()})):(c.on("mouseenter",t+"img "+t+"shutter",function(){var t;t=this,$(t).parent().addClass("hover").addClass(a+"-hover")}),c.on("mouseleave",t+"img",function(){$(this).removeClass("hover").removeClass(a+"-hover")}))},a.Templates.Classica.ie9={},a.Templates.Classica.ie9.template="<div class='<%=meta.NS %>-img <%= data.classList %>' data-image-id='<%= imageId %>'> <a class='<%=meta.NS %>-link' href='<%= data.pageHref %>' target='_blank'> <div class='<%=meta.NS %>-icon-wrapper <%=meta.NS %>-fs'> <div class='<%=meta.NS %>-icon-container <%=meta.NS %>-fs'> <img class='<%=meta.NS %>-icon <%=meta.NS %>-fs' src='<%= data.src %>'> </div> </div> <div class='<%=meta.NS %>-caption-wrapper'> <div class='<%=meta.NS %>-f-caption'> <% if(data.title) { %> <div class='<%=meta.NS %>-title'> <%= data.title %> </div> <% } %> <% if(data.description) { %> <div class='<%=meta.NS %>-descr'> by <%= data.description %> </div> <% } %> </div> </div> </a> <img data-src='<%= data.ownerIcon %>' src='' style='width:1px;height:1px;z-index:0;visibility:hidden;' class='swipe-owner-icon-hidden'> </div>",a.Templates.Classica.ie9.callback=function(){var a,t,e,i;a=this.model.meta.NS,t=this.model.meta.NSclass,i=this.model.meta.root,e=function(a){var t;t=a.find(".swipe-owner-icon-hidden"),t.attr("src",t.attr("data-src"))},$(i).on("click",".mmg-img",function(a){var t;t=$(this),e(t),e(t.next()),e(t.prev())}),i.on("mouseenter",t+"img",function(){$(t+"caption-wrapper",this).fadeIn()}),i.on("mouseleave",t+"img",function(){$(t+"caption-wrapper",this).fadeOut()})},a.Templates.Classica.defaults={templateName:"Classica",gridClass:"classica"}}).call(this);