(function(){var a;a=window.MMG,a.Templates.Classica={},a.Templates.Classica.template="<div class='<%=meta.NS %>-img <%= data.classList %>' data-image-id='<%= imageId %>'> <a class='<%=meta.NS %>-link' href='<%= data.pageHref %>' target='_blank'> </a> <div class='<%=meta.NS %>-icon-wrapper <%=meta.NS %>-fs'> <div class='<%=meta.NS %>-icon-container <%=meta.NS %>-fs'> <img class='<%=meta.NS %>-icon <%=meta.NS %>-fs' src='<%= data.src %>'> </div> </div> <div class='<%=meta.NS %>-caption-wrapper'> <div class='<%=meta.NS %>-f-caption'> <% if(data.title) { %> <div class='<%=meta.NS %>-title'> <%= data.title %> </div> <% } %> <% if(data.ownerName) { %> <div class='<%=meta.NS %>-descr'> by <%= data.ownerName %> </div> <% } %> </div> </div> <div class='<%=meta.NS %>-shutter'></div> <img data-src='<%= data.ownerIcon %>' src='' style='width:1px;height:1px;z-index:0;visibility:hidden;' class='swipe-owner-icon-hidden'> </div>",a.Templates.Classica.callback=function(){var a,e,t,s,i,d,n;a=this.model.meta.NS,e=this.model.meta.NSclass,n=this.model.meta.root,i=this.model.meta.isMobile,n.addClass(a+"-classica"),d=function(a){var e;e=a.find(".swipe-owner-icon-hidden"),e.attr("src",e.attr("data-src"))},$(n).on("click",".mmg-img",function(a){var e;e=$(this),d(e),d(e.next()),d(e.prev())}),t=function(){$(e+"hover, .hover",n.get(0)).each(function(){$(this).removeClass("hover").removeClass(a+"-hover")})},i?(s="touchstart",/IEMobile/i.test(navigator.userAgent)&&(s="MSPointerDown mouseenter"),$("body").on(s,function(e){var s,i;i=$(e.target),$(e.target).hasClass(a+"-shutter")?(s=i.parent(),s.hasClass(a+"-hover")||(t(),s.addClass(a+"-hover"),setTimeout(function(){s.addClass("hover"),s=null},500))):$(e.target).hasClass(a+"-link")||t()})):(n.on("mouseenter",e+"img "+e+"shutter",function(){var e;e=this,$(e).parent().addClass("hover").addClass(a+"-hover")}),n.on("mouseleave",e+"img",function(){$(this).removeClass("hover").removeClass(a+"-hover")}))},a.Templates.Classica.ie9={},a.Templates.Classica.ie9.template="<div class='<%=meta.NS %>-img <%= data.classList %>' data-image-id='<%= imageId %>'> <a class='<%=meta.NS %>-link' href='<%= data.pageHref %>' target='_blank'> <div class='<%=meta.NS %>-icon-wrapper <%=meta.NS %>-fs'> <div class='<%=meta.NS %>-icon-container <%=meta.NS %>-fs'> <img class='<%=meta.NS %>-icon <%=meta.NS %>-fs' src='<%= data.src %>'> </div> </div> <div class='<%=meta.NS %>-caption-wrapper'> <div class='<%=meta.NS %>-f-caption'> <% if(data.title) { %> <div class='<%=meta.NS %>-title'> <%= data.title %> </div> <% } %> <% if(data.ownerName) { %> <div class='<%=meta.NS %>-descr'> by <%= data.ownerName %> </div> <% } %> </div> </div> </a> <img data-src='<%= data.ownerIcon %>' src='' style='width:1px;height:1px;z-index:0;visibility:hidden;' class='swipe-owner-icon-hidden'> </div>",a.Templates.Classica.ie9.callback=function(){var a,e,t,s;a=this.model.meta.NS,e=this.model.meta.NSclass,s=this.model.meta.root,t=function(a){var e;e=a.find(".swipe-owner-icon-hidden"),e.attr("src",e.attr("data-src"))},$(s).on("click",".mmg-img",function(a){var e;e=$(this),t(e),t(e.next()),t(e.prev())}),s.on("mouseenter",e+"img",function(){$(e+"caption-wrapper",this).fadeIn()}),s.on("mouseleave",e+"img",function(){$(e+"caption-wrapper",this).fadeOut()})},a.Templates.Classica.defaults={templateName:"Classica",gridClass:"classica"}}).call(this);